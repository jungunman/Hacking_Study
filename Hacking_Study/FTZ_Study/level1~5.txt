
#FTZ Level 1
hint) -Level2 권한에 setuid가 걸린 파일을 찾는다.

#FTZ Level 1 풀이 과정)
ls -al ->
여러 숨겨진 파일과 일반 파일중에 hint를 읽으면 위와 같은 힌트를 얻을 수 있다.
find 를 이용해 찾으란 소리같다.
find 명령어를 기억해보면 다양한 조건으로 검색할 수 있는데 그중 user와 perm 옵션이 적당해보인다
id level2 ->
uid=3002(level2) gid=3002(level2) groups=3002(level2)
3002 숫자의 아이디를 가지고 있으니, 그것으로 검색해보자.
find / -perm -4000 -user 3002 2> /dev/null ->
/bin/ExecuteMe
가서 실행해보니 level2의 실행으로 하나의 명령만 실행시켜주겠다는 스크립트가 시작된다.
my-pass 와 chmod를 쓸 수 없다고 명시하는 것보니, 곤란했다.
/etc/passwd 는 읽을 수있어도 비밀번호는 x로 저장되고 실제 비밀번호는 encoding 되서 /etc/shadow에 저장되는 것을 알고 있다.
/etc/shadow는 root 권한만 읽을 수 있으니, level2 의 권한을 얻는다 해도 볼 수 없다.
계속 실행시켜가며 level2의 홈디렉토리 및 find로 level2 관련 파일들을 찾으려고 했으나 없었다.
그러다 shell Script 라면 첫번째 명령에 $0 = /bin/bash가 들어가있지 않나 추측.
$0을 삽입하니, my-pass 명령어가 먹혔다. 답 나왔다.


답 == hacker or cracker





#================================================================================#
#FTZ Level 2
hint) 텍스트 파일 편집 중 쉘의 명령을 실행시킬 수 있다는데...

#FTZ Level 2 풀이 과정)

힌트가 매우 불친절하다는 것을 느꼈다. 텍스트 파일 편집 중 쉘의 명령을 실행시킬 수 있다.
vi가 바로 떠올랐다.
그래서 home/level2 디렉토리에서 vi text.txt 을 실행했다.
근데 살짝 곤란한게, ex명령어를 이용할 수도 있고, shell을 실행시켜서 새롭게 쉘을 열수도있다. 문제는, 그래도 level2의 권한이라는 것이다.
진짜 여기서 매우 불친절하다는 것을 느꼈지만 별 수 있나. 뻘짓을 어느 정도 했을 때 level3 관련 파일을 찾아보자 하여,
find / -user 3003 2> /dev/null 로 level3 관련 파일을 찾았다. (id level3 하면 대상 id가 나온다. -user level3 로 해도 무관)
/usr/bin/editor 이란 결과.
잉? 다른 에디터가 있나? 싶어서 들어가서 봤더니,
setuid가 걸린 파일이었다. 실행권한이 있어 실행시켰더니 vim이 켜진다!!!
명령어 모드에서 shell을 쳐서 level3의 쉘로 진입. my-pass 로 다음 비밀번호를 얻어냈다.


답 == can you fly?